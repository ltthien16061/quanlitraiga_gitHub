<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <!--Style.css-->
        <h:outputStylesheet name="css/style.css"/>
        <!--logo icon page-->
        <link rel="shortcut icon" href="#"/>
        <title>Login - MOPF</title>
        <h:outputStylesheet name="css/sb-admin.css"/>
        <h:outputStylesheet library="fontawesome-free" name="css/all.css"/> 
    </h:head>
    <h:body class="bg-login">
        <div class="container">
        <div class="card card-login mx-auto mt-5">
          <div class="card-header bg-dark text-white">Login</div>
          <div class="card-body bg-light text-dark">
            <h:form  id="loginF">
              <div class="form-group">
                <div class="form-label-group">
                    <h:inputText class="form-control" id="username" value="#{accountMB.username}" validatorMessage="Tên Đăng Nhập Không Hợp Lệ">
                        <f:validateRegex pattern="^[a-zA-Z0-9]{5,20}$" />
                        <f:ajax event="blur" execute="loginF" render="usernameValidate"/> 
                    </h:inputText>   
                    <label for="inputEmail">Tên Đăng Nhập :</label>
                </div>
              </div>
              <div class="form-group">
                <div class="form-label-group">
                    <h:inputSecret class="form-control" id="password" value="#{accountMB.password}" validatorMessage="Mật Khẩu Không Hợp Lệ">
                        <f:validateRegex pattern="^[a-zA-Z0-9]{8,16}$" />
                        <f:ajax event="blur" execute="loginF" render="passValidate"/> 
                    </h:inputSecret>
                    <label for="inputPassword">Mật Khẩu :</label>
                </div>
              </div>
            <div class="form-group">
                <div class="form-label-group">
                    <h:messages  infoStyle="color: darkgreen;list-style-type: none;background-color: #D4EDDA;text-align: center;padding: 10px;" 
                                                 errorStyle="color:darkred;list-style-type: none;background-color: #F8D7DA;text-align: center;padding: 10px;" 
                                                 rendered="#{facesContext.messageList.size() gt 0}" />
                </div>
              </div>                 
                <h:commandButton class="btn btn-primary btn-block" value="Login" action="#{accountMB.login()}" />
            </h:form>
          </div>
        </div>
      </div>

        <!-- Bootstrap core JavaScript-->
        <h:outputScript library="primefaces" name="jquery/jquery.js"/>
        <h:outputScript library="bootstrap" name="js/bootstrap.bundle.min.js"/>
    </h:body>
</html>

